# Mask Smith

<div align="center">

![版本](https://img.shields.io/badge/版本-0.0.5-blue.svg)
![VS Code](https://img.shields.io/badge/VS%20Code-^1.99.0-brightgreen.svg)
[![许可证](https://img.shields.io/badge/许可证-MIT-green.svg)](LICENSE)

一个强大的 VS Code 扩展，使用 AES-256-GCM 加密保护敏感信息

[English Documentation](README.md)

</div>

## 🎯 概述

Mask Smith 是一个专为保护文档中敏感信息而设计的 VS Code 扩展。它允许您直接在编辑器中使用工业标准的 AES-256-GCM 加密算法对选中的文本进行加密，在保持文档可读性的同时确保敏感数据的安全。

## ✨ 功能特性

- **🔐 强加密算法**：使用 AES-256-GCM 加密和 SHA-256 哈希算法提供最高级别的安全保护
- **👁️ 可视化遮罩**：加密内容在编辑器中以清晰的标识进行可视化遮罩
- **🔄 无缝集成**：通过右键菜单和快捷键直接在 VS Code 中使用
- **🔑 智能密码管理**：密码安全存储在 VS Code 的密钥存储中，支持重用上次密码
- **📋 智能复制**：复制到剪贴板时自动解密遮罩内容
- **🌍 多语言支持**：支持英文和中文界面
- **📝 文件类型支持**：支持纯文本和 Markdown 文件

## 📦 安装方法

### 从 VS Code 应用商店安装

1. 打开 VS Code
2. 按 `Ctrl+P` / `Cmd+P` 打开快速打开对话框
3. 输入 `ext install Yarmu.mask-smith` 并按回车
4. 点击安装

### 从 VSIX 文件安装

1. 从 [发布页面](https://github.com/iceyarmu/mask-smith/releases) 下载 `.vsix` 文件
2. 打开 VS Code
3. 按 `Ctrl+Shift+P` / `Cmd+Shift+P` 打开命令面板
4. 输入 "从 VSIX 安装" 并选择
5. 浏览并选择下载的 `.vsix` 文件

## 🚀 使用方法

### 加密文本

1. 在支持的文件类型（`.txt` 或 `.md`）中**选择要加密的文本**
2. 使用以下任一方法：
   - **右键点击**并从上下文菜单中选择"加密选中文本"
   - 按 **`Ctrl+Alt+M`**（Windows/Linux）或 **`Cmd+Alt+M`**（Mac）
   - 打开命令面板（`Ctrl+Shift+P` / `Cmd+Shift+P`）并运行 "Mask Smith: 加密选中文本"
3. **输入密码**
   - 首次加密时，需要确认密码
   - 扩展会提供使用上次密码的选项以方便操作
4. 选中的文本将被替换为加密内容，格式如：`<!MASK-SMITH:encrypted_data>`

### 查看加密内容

- **悬停**在任何加密文本上，显示"复制到剪贴板"按钮
- 点击按钮解密并复制原始文本到剪贴板

### 复制加密内容

当选择并复制包含加密内容的文本时：
- 按 **`Ctrl+C`**（Windows/Linux）或 **`Cmd+C`**（Mac）
- 扩展自动在复制前解密任何遮罩内容
- 您会看到确认解密内容已复制的通知

## ⌨️ 快捷键

| 操作 | Windows/Linux | Mac |
|------|---------------|-----|
| 加密选中文本 | `Ctrl+Alt+M` | `Cmd+Alt+M` |
| 复制（自动解密） | `Ctrl+C` | `Cmd+C` |

## 🔒 安全特性

### 加密细节

- **算法**：AES-256-GCM（Galois/Counter 模式）
- **密钥派生**：用户密码的 SHA-256 哈希
- **初始化向量**：明文 SHA-256 哈希的前 12 字节
- **密钥存储**：密码经过哈希处理后安全存储在 VS Code 的密钥存储中
- **验证**：每次加密后立即通过解密验证以确保数据完整性

### 安全最佳实践

1. **使用强密码**：组合使用大写字母、小写字母、数字和特殊字符
2. **不同敏感级别使用不同密码**：为高度敏感数据使用唯一密码
3. **定期更新密码**：定期更改密码以增强安全性
4. **安全文件存储**：将包含加密内容的文件存储在安全位置
5. **备份注意事项**：安全备份您的密码

## 🎨 视觉指示器

- **加密内容**：显示为 `<!MASK-SMITH:...>` 并带有视觉化的"🔒 已加密"徽章
- **悬停操作**：悬停在加密内容上时显示交互按钮
- **状态消息**：所有操作（加密、解密、复制）都有清晰的通知

## 🛠️ 配置说明

目前，Mask Smith 开箱即用，无需任何配置。扩展会自动：
- 安全管理密码存储
- 为加密内容应用视觉装饰
- 智能处理剪贴板操作

## 📝 支持的文件类型

- 纯文本文件（`.txt`）
- Markdown 文件（`.md`）

## ⚠️ 重要说明

1. **密码恢复**：如果忘记密码，将无法恢复加密数据。请妥善保管您的密码！
2. **文件共享**：共享包含加密内容的文件时，接收者需要安装 Mask Smith 并知道正确的密码才能解密
3. **版本控制**：加密内容以编码文本形式出现，可以安全地提交到版本控制系统
4. **性能考虑**：大量加密内容可能会影响编辑器性能

## 🐛 故障排除

### 常见问题

**"不支持的文件类型"错误**
- 确保您正在 `.txt` 或 `.md` 文件中工作
- 检查文件是否已正确保存并带有正确的扩展名

**"密码密钥不匹配"错误**
- 您尝试使用与加密时不同的密码进行解密
- 请输入加密时使用的正确密码

**加密内容显示不正确**
- 确保加密内容格式未被更改
- 格式必须准确为：`<!MASK-SMITH:encrypted_data>`

**复制到剪贴板不工作**
- 检查 VS Code 是否有剪贴板访问权限
- 尝试使用键盘快捷键而不是悬停按钮

## 🤝 贡献指南

欢迎贡献！请随时提交问题和拉取请求。

1. Fork 仓库
2. 创建您的功能分支（`git checkout -b feature/AmazingFeature`）
3. 提交您的更改（`git commit -m 'Add some AmazingFeature'`）
4. 推送到分支（`git push origin feature/AmazingFeature`）
5. 开启一个拉取请求

## 📄 许可证

本项目基于 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 👨‍💻 作者

**Yarmu**

- GitHub: [@iceyarmu](https://github.com/iceyarmu)
- 仓库: [mask-smith](https://github.com/iceyarmu/mask-smith)

## 🙏 致谢

- VS Code 扩展 API 提供的安全存储功能
- Web Crypto API 提供的强大加密支持
- Z85 编码提供的高效二进制到文本编码
- 所有贡献者和使用者

## 📈 更新日志

### 版本 0.0.5
- 添加重用上次密码的支持
- 改进密码管理，支持默认密钥存储
- 增强用户体验，提供密码确认选项
- 错误修复和性能改进

### 版本 0.0.4
- 添加智能复制功能，自动解密
- 改进剪贴板集成
- 增强错误处理

### 版本 0.0.3
- 添加加密内容的悬停操作
- 改进视觉指示器
- 性能优化

### 版本 0.0.2
- 添加多语言支持（英文和中文）
- 增强加密后验证的安全性
- 改进错误消息

### 版本 0.0.1
- 初始发布
- 基础加密/解密功能
- 上下文菜单集成
- 键盘快捷键

---

<div align="center">
用 ❤️ 为重视安全的开发者打造
</div>